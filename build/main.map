{"version":3,"sources":["webpack:///webpack/bootstrap f4495a92690137c00b49","webpack:///./src/index.js","webpack:///external \"good\"","webpack:///./src/api.js","webpack:///external \"hapi\"","webpack:///./src/fixture_data.js","webpack:///./src/models/index.js","webpack:///./src/models/customers.js","webpack:///./src/connectors/index.js","webpack:///./src/connectors/data_connector.js","webpack:///./src/handlers/index.js","webpack:///./src/handlers/test.js","webpack:///./src/handlers/complete.js","webpack:///./config/index.js"],"names":["good","require","api","config","server","get_server","register_plugin","logging","start_server","hapi","testData","Customers","DataConnector","test","complete","dataConnector","customerModel","module","exports","Server","connection","route","path","method","handler","register","options","err","console","log","start","info","uri","tid","get","data","getCustomer","set","fixtureData","mock_persistance","find","thisRow","first_name","last_name","tel_number","salary","time","product","findIndex","customersModel","request","reply","query","code","success","setCustomer","port","host","reporters","name","args","response"],"mappings":";;;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;AC7DA,IAAMA,OAAO,mBAAAC,CAAQ,CAAR,CAAb;;AAEA,IAAMC,MAAM,mBAAAD,CAAQ,CAAR,CAAZ;AACA,IAAME,SAAS,mBAAAF,CAAQ,EAAR,CAAf;;AAEA;AACA,IAAMG,SAASF,IAAIG,UAAJ,CAAeF,OAAOC,MAAtB,CAAf;;AAEA;AACAF,IAAII,eAAJ,CAAoBF,MAApB,EAA4BJ,IAA5B,EAAkCG,OAAOI,OAAzC;;AAEA;AACAL,IAAIM,YAAJ,CAAiBJ,MAAjB,E;;;;;;ACZA,iC;;;;;;ACAA,IAAMK,OAAO,mBAAAR,CAAQ,CAAR,CAAb;;AAEA;AACA,IAAMS,WAAW,mBAAAT,CAAQ,CAAR,CAAjB;;eAEsB,mBAAAA,CAAQ,CAAR,C;IAAdU,S,YAAAA,S;;gBACkB,mBAAAV,CAAQ,CAAR,C;IAAlBW,a,aAAAA,a;;gBACmB,mBAAAX,CAAQ,EAAR,C;IAAnBY,I,aAAAA,I;IAAMC,Q,aAAAA,Q;;AAEd,IAAMC,gBAAgB,IAAIH,aAAJ,CAAkBF,QAAlB,CAAtB;AACA,IAAMM,gBAAgB,IAAIL,SAAJ,CAAcI,aAAd,CAAtB;;AAEAE,OAAOC,OAAP,GAAiB;AACfb,cAAY,oBAACF,MAAD,EAAY;AACtB,QAAMC,SAAS,IAAIK,KAAKU,MAAT,EAAf;AACAf,WAAOgB,UAAP,CAAkBjB,MAAlB;;AAEA;AACAC,WAAOiB,KAAP,CAAa;AACXC,YAAM,OADK;AAEXC,cAAQ,KAFG;AAGXC,eAASX,KAAKG,aAAL;AAHE,KAAb;;AAMA;AACAZ,WAAOiB,KAAP,CAAa;AACXC,YAAM,WADK;AAEXC,cAAQ,KAFG;AAGXC,eAASV,SAASE,aAAT;AAHE,KAAb;;AAMA,WAAOZ,MAAP;AACD,GApBc;AAqBf;AACAE,mBAAiB,yBAACF,MAAD,EAASqB,QAAT,EAAmBC,OAAnB,EAA+B;AAC9CtB,WAAOqB,QAAP,CAAgB;AACdA,wBADc;AAEdC;AAFc,KAAhB,EAGG,UAACC,GAAD,EAAS;AACV,UAAIA,GAAJ,EAAS;AACPC,gBAAQC,GAAR,wCAAmDF,GAAnD;AACA,cAAMA,GAAN;AACD;AACF,KARD;AASA,WAAOvB,MAAP;AACD,GAjCc;AAkCf;AACAI,gBAAc,sBAACJ,MAAD,EAAY;AACxBA,WAAO0B,KAAP,CAAa,UAACH,GAAD,EAAS;AACpB,UAAIA,GAAJ,EAAS;AACP,cAAMA,GAAN;AACD;AACDC,cAAQC,GAAR,yBAAkCzB,OAAO2B,IAAP,CAAYC,GAA9C;AACD,KALD;AAMA,WAAO5B,MAAP;AACD;AA3Cc,CAAjB,C;;;;;;ACZA,iC;;;;;;ACAAa,OAAOC,OAAP,GAAiB,CACf;AACEe,OAAK;AADP,CADe,EAIf;AACEA,OAAK;AADP,CAJe,EAOf;AACEA,OAAK;AADP,CAPe,CAAjB,C;;;;;;ACAA,IAAMtB,YAAY,mBAAAV,CAAQ,CAAR,CAAlB;;AAEAgB,OAAOC,OAAP,GAAiB;AACfP;AADe,CAAjB,C;;;;;;;;;;ICFMA,S;AACJ,qBAAYI,aAAZ,EAA2B;AAAA;;AACzB,SAAKA,aAAL,GAAqBA,aAArB;AACD;;AAED;;;;;;;;gCAIYkB,G,EAAK;AACf,aAAO,KAAKlB,aAAL,CAAmBmB,GAAnB,CAAuBD,GAAvB,CAAP;AACD;;AAED;;;;;;;;gCAKYA,G,EAAKE,I,EAAM;AACrB,UAAG,KAAKC,WAAL,CAAiBH,GAAjB,CAAH,EAA0B;AACxB,eAAO,KAAKlB,aAAL,CAAmBsB,GAAnB,CAAuBJ,GAAvB,EAA4BE,IAA5B,CAAP;AACD;AACD,aAAO,KAAP;AACD;;;;;;AAGHlB,OAAOC,OAAP,GAAiBP,SAAjB,C;;;;;;AC1BA,IAAMC,gBAAgB,mBAAAX,CAAQ,CAAR,CAAtB;;AAEAgB,OAAOC,OAAP,GAAiB;AACfN;AADe,CAAjB,C;;;;;;;;;;ICFMA,a;AAEJ,yBAAY0B,WAAZ,EAAyB;AAAA;;AACvB,SAAKC,gBAAL,GAAwBD,WAAxB;AACD;;AAED;;;;;;;;wBAIIL,G,EAAK;AACP,aAAO,KAAKM,gBAAL,CAAsBC,IAAtB,CAA2B;AAAA,eAAWC,QAAQR,GAAR,KAAgBA,GAA3B;AAAA,OAA3B,CAAP;AACD;;AAED;;;;;;;;wBAKIA,G,QAAmE;AAAA,UAA5DS,UAA4D,QAA5DA,UAA4D;AAAA,UAAhDC,SAAgD,QAAhDA,SAAgD;AAAA,UAArCC,UAAqC,QAArCA,UAAqC;AAAA,UAAzBC,MAAyB,QAAzBA,MAAyB;AAAA,UAAjBC,IAAiB,QAAjBA,IAAiB;AAAA,UAAXC,OAAW,QAAXA,OAAW;;AACrE,WAAKR,gBAAL,CAAsB,KAAKA,gBAAL,CAAsBS,SAAtB,CAAgC;AAAA,eAAWP,QAAQR,GAAR,KAAgBA,GAA3B;AAAA,OAAhC,CAAtB,IAAyF;AACvFA,gBADuF,EAClFS,sBADkF,EACtEC,oBADsE,EAC3DC,sBAD2D,EAC/CC,cAD+C,EACvCE,gBADuC,EAC9BD;AAD8B,OAAzF;AAGA,aAAO,IAAP;AACD;;;;;;AAGH7B,OAAOC,OAAP,GAAiBN,aAAjB,C;;;;;;AC3BA,IAAMC,OAAO,mBAAAZ,CAAQ,EAAR,CAAb;AACA,IAAMa,WAAW,mBAAAb,CAAQ,EAAR,CAAjB;;AAEAgB,OAAOC,OAAP,GAAiB;AACfL,YADe;AAEfC;AAFe,CAAjB,C;;;;;;ACHAG,OAAOC,OAAP,GAAiB,UAAC+B,cAAD;AAAA,SAAoB,UAACC,OAAD,EAAUC,KAAV,EAAoB;AACvD,QAAMlB,MAAMiB,QAAQE,KAAR,CAAc,KAAd,CAAZ;AACA,QAAMjB,OAAOc,eAAeb,WAAf,CAA2BH,GAA3B,CAAb;;AAEA,QAAIE,IAAJ,EAAU;AACR;AACAgB,YAAMhB,IAAN;AACD,KAHD,MAGO;AACLgB,YAAM,WAAN,EAAmBE,IAAnB,CAAwB,GAAxB;AACD;AACF,GAVgB;AAAA,CAAjB,C;;;;;;ACAApC,OAAOC,OAAP,GAAiB,UAAC+B,cAAD;AAAA,SAAoB,UAACC,OAAD,EAAUC,KAAV,EAAoB;AACvD,QAAMlB,MAAMiB,QAAQE,KAAR,CAAc,KAAd,CAAZ;AACA,QAAMV,aAAaQ,QAAQE,KAAR,CAAc,OAAd,CAAnB;AACA,QAAMT,YAAYO,QAAQE,KAAR,CAAc,OAAd,CAAlB;AACA,QAAMR,aAAaM,QAAQE,KAAR,CAAc,KAAd,CAAnB;AACA,QAAMP,SAASK,QAAQE,KAAR,CAAc,QAAd,CAAf;AACA,QAAML,UAAUG,QAAQE,KAAR,CAAc,SAAd,CAAhB;AACA,QAAMN,OAAOI,QAAQE,KAAR,CAAc,MAAd,CAAb;;AAEA,QAAMjB,OAAOc,eAAeb,WAAf,CAA2BH,GAA3B,CAAb;;AAEA,QAAIE,IAAJ,EAAU;AACR,UAAMmB,UACJL,eAAeM,WAAf,CAA2BtB,GAA3B,EAAgC,EAAES,sBAAF,EAAcC,oBAAd,EAAyBC,sBAAzB,EAAqCC,cAArC,EAA6CC,UAA7C,EAAmDC,gBAAnD,EAAhC,CADF;AAEA,UAAIO,OAAJ,EAAa;AACXH,cAAM,SAAN,EAAiBE,IAAjB,CAAsB,GAAtB;AACD,OAFD,MAEO;AACLF,cAAM,OAAN,EAAeE,IAAf,CAAoB,GAApB;AACD;AACF,KARD,MAQO;AACLF,YAAM,WAAN,EAAmBE,IAAnB,CAAwB,GAAxB;AACD;AACF,GAtBgB;AAAA,CAAjB,C;;;;;;ACAApC,OAAOC,OAAP,GAAiB;AACf;AACAd,UAAQ;AACNoD,UAAM,IADA;AAENC,UAAM;AAFA,GAFO;;AAOf;AACAlD,WAAS;AACPmD,eAAW;AACT9B,eAAS,CACP;AACEX,gBAAQ,cADV;AAEE0C,cAAM,SAFR;AAGEC,cAAM,CAAC,EAAEC,UAAU,GAAZ,EAAiBhC,KAAK,GAAtB,EAAD;AAHR,OADO,EAMP,EAAEZ,QAAQ,cAAV,EANO,EAOP,QAPO;AADA;AADJ;AARM,CAAjB,C","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f4495a92690137c00b49","const good = require('good');\n\nconst api = require('./api');\nconst config = require('../config');\n\n// Get configured server (based on passed in configurations)\nconst server = api.get_server(config.server);\n\n// Register logging framework \napi.register_plugin(server, good, config.logging);\n\n// Start server listing\napi.start_server(server);\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = require(\"good\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"good\"\n// module id = 2\n// module chunks = 0","const hapi = require('hapi');\n\n// this is test data import \nconst testData = require('./fixture_data');\n\nconst { Customers } = require('./models');\nconst { DataConnector } = require('./connectors');\nconst { test, complete } = require('./handlers');\n\nconst dataConnector = new DataConnector(testData);\nconst customerModel = new Customers(dataConnector);\n\nmodule.exports = {\n  get_server: (config) => {\n    const server = new hapi.Server();\n    server.connection(config);\n\n    // register endpoint to handler for /test\n    server.route({\n      path: '/test',\n      method: 'GET',\n      handler: test(customerModel)\n    });\n\n    // register endpoint to handler for /complete\n    server.route({\n      path: '/complete',\n      method: 'GET',\n      handler: complete(customerModel)\n    });\n\n    return server;\n  },\n  // register server plugins\n  register_plugin: (server, register, options) => {\n    server.register({\n      register,\n      options,\n    }, (err) => {\n      if (err) {\n        console.log(`Server error at plugin registration`, err);\n        throw err;\n      }\n    });\n    return server;\n  },\n  // start server instance\n  start_server: (server) => {\n    server.start((err) => {\n      if (err) {\n        throw err;\n      }\n      console.log(`Server running at: ${server.info.uri}`);\n    });\n    return server;\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/api.js","module.exports = require(\"hapi\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"hapi\"\n// module id = 4\n// module chunks = 0","module.exports = [\n  { \n    tid: 'AX01'\n  },\n  { \n    tid: 'AX02'\n  },\n  { \n    tid: 'AX03'\n  }\n];\n\n\n\n// WEBPACK FOOTER //\n// ./src/fixture_data.js","const Customers = require('./customers');\n\nmodule.exports = {\n  Customers\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/index.js","class Customers {\n  constructor(dataConnector) {\n    this.dataConnector = dataConnector;\n  }\n\n  /**\n   * get customer data\n   * @param {String} tid - Identifier\n   */\n  getCustomer(tid) {\n    return this.dataConnector.get(tid);\n  }\n\n  /**\n   * set customer data\n   * @param {String} tid - Identifier\n   * @param {Object} data - Data to persist\n   */\n  setCustomer(tid, data) {\n    if(this.getCustomer(tid)) {\n      return this.dataConnector.set(tid, data);\n    }\n    return false;\n  }\n}\n\nmodule.exports = Customers;\n\n\n// WEBPACK FOOTER //\n// ./src/models/customers.js","const DataConnector = require('./data_connector');\n\nmodule.exports = {\n  DataConnector\n};\n\n\n// WEBPACK FOOTER //\n// ./src/connectors/index.js","class DataConnector {\n\n  constructor(fixtureData) {\n    this.mock_persistance = fixtureData;\n  }\n\n  /**\n   * Get row from persistance \n   * @param {String} tid - unique ID\n   */\n  get(tid) {\n    return this.mock_persistance.find(thisRow => thisRow.tid === tid);\n  }\n\n  /**\n   * Set row details with given details \n   * @param {String} tid - unique ID\n   * @param {Object} args - Object to hold details that will be updated to persistance \n   */\n  set(tid, { first_name, last_name, tel_number, salary, time, product }) {\n    this.mock_persistance[this.mock_persistance.findIndex(thisRow => thisRow.tid === tid)] = {\n      tid, first_name, last_name, tel_number, salary, product, time\n    };\n    return true;\n  }\n}\n\nmodule.exports = DataConnector;\n\n\n// WEBPACK FOOTER //\n// ./src/connectors/data_connector.js","const test = require('./test');\nconst complete = require('./complete');\n\nmodule.exports = {\n  test,\n  complete\n};\n\n\n// WEBPACK FOOTER //\n// ./src/handlers/index.js","module.exports = (customersModel) => (request, reply) => {\n  const tid = request.query['tid'];\n  const data = customersModel.getCustomer(tid);\n\n  if (data) {\n    //TODO: check if row have been consumed ? \n    reply(data);\n  } else {\n    reply('Not Found').code(404);\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/handlers/test.js","module.exports = (customersModel) => (request, reply) => {\n  const tid = request.query['tid'];\n  const first_name = request.query['fname'];\n  const last_name = request.query['lname'];\n  const tel_number = request.query['tel'];\n  const salary = request.query['salary'];\n  const product = request.query['product'];\n  const time = request.query['time'];\n\n  const data = customersModel.getCustomer(tid);\n\n  if (data) {\n    const success = \n      customersModel.setCustomer(tid, { first_name, last_name, tel_number, salary, time, product });\n    if (success) {\n      reply('Success').code(202);\n    } else {\n      reply('Error').code(500);\n    }\n  } else {\n    reply('Not Found').code(404);\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/handlers/complete.js","module.exports = {\n  //server config\n  server: {\n    port: 3000,\n    host: '0.0.0.0'\n  },\n\n  // logging config\n  logging: {\n    reporters: {\n      console: [\n        {\n          module: 'good-squeeze',\n          name: 'Squeeze',\n          args: [{ response: '*', log: '*' }]\n        },\n        { module: 'good-console' },\n        'stdout'\n      ]\n    }\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./config/index.js"],"sourceRoot":""}